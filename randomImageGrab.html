<html>
<link rel="stylesheet" type="text/css" href="homepage.css"/>
<head>
    <title></title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
</head>
<body>
  <div id="goalz"></div>
  <div id="progress"></div>

  <script type="text/javascript">

  var keyword = "luxury car";
//when page loads execute the function
  $(document).ready(function(){
//credit to flickr for images
      $.getJSON("http://api.flickr.com/services/feeds/photos_public.gne?jsoncallback=?",
      {
          tags: keyword,
          tagmode: "any",
          format: "json"
      },
//grab random image
      function(data) {
          var rnd = Math.floor(Math.random() * data.items.length);
          var image_src = data.items[8]['media']['m'].replace("_m", "_b");
//center the image
          $('#goalz').css('background-image', "url('" + image_src + "')");
          // $('#goalz').css('background-position', "center 0%");
          $('#goalz').css('background-repeat', "no-repeat");

          var elem = document.getElementById("goalz");
          elem.style.left = 100 + 'px';
          var progress = document.getElementById("progress");
          const maxWidth = 40;
          var width = 0;
          var id = setInterval(frame, 1);
          function frame() {
            if (width >= maxWidth) {
              clearInterval(id);
            } else {
              width += 0.2;
              elem.style.width = width + '%';
              elem.innerHTML = width * 1 + '%';
              progress.innerHTML = 'You are ' + maxWidth + '% of the way to your goal!!';
              console.log("left", elem.style.left, "right", elem.style.width);
              progress.style.left = 100 + maxWidth * 13; // elem.left + maxWidth/100 * elem.picture.width
            }
          }
      });
  });
  </script>
</body>
</html>
